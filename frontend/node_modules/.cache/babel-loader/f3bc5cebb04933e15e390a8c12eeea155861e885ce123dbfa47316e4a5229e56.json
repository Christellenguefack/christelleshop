{"ast":null,"code":"import React,{useEffect,useState}from\"react\";import{Link,useNavigate,useLocation}from\"react-router-dom\";import{Icon}from\"@iconify/react\";import axios from\"axios\";import{jsx as _jsx,Fragment as _Fragment,jsxs as _jsxs}from\"react/jsx-runtime\";const CartPage=()=>{const[cart,setCart]=useState(()=>{const local=JSON.parse(localStorage.getItem(\"cart\"));return local?{products:local}:{products:[]};});const[user,setUser]=useState(()=>JSON.parse(localStorage.getItem(\"user\"))||null);const[address,setAddress]=useState(\"\");const[savedAddresses,setSavedAddresses]=useState([]);const[paymentMethod,setPaymentMethod]=useState(\"card\");const[selectedCardId,setSelectedCardId]=useState(\"\");const[savedCards,setSavedCards]=useState([]);const[paypalEmail,setPaypalEmail]=useState(\"\");const navigate=useNavigate();const location=useLocation();const loadPayPalScript=()=>{return new Promise((resolve,reject)=>{if(document.getElementById(\"paypal-sdk\"))return resolve();const script=document.createElement(\"script\");script.src=\"https://www.paypal.com/sdk/js?client-id=Aa1Ocb6Gn5RgWkO5LbrJ-H&currency=EUR\";// âœ… Ton Client ID ici\nscript.id=\"paypal-sdk\";script.onload=()=>resolve();script.onerror=err=>reject(err);document.body.appendChild(script);});};useEffect(()=>{if(!user)return;// Charger le panier\naxios.get(\"http://localhost:5000/api/cart/\".concat(user._id)).then(res=>{var _res$data;const products=((_res$data=res.data)===null||_res$data===void 0?void 0:_res$data.products)||[];setCart({products});localStorage.setItem(\"cart\",JSON.stringify(products));}).catch(err=>console.error(\"Erreur panier :\",err));// Charger les adresses\naxios.get(\"http://localhost:5000/api/addresses\",{params:{userId:user._id}}).then(res=>setSavedAddresses(res.data)).catch(err=>console.error(\"Erreur adresses :\",err));// Charger les cartes\naxios.get(\"http://localhost:5000/api/cards/\".concat(user._id)).then(res=>setSavedCards(res.data)).catch(err=>console.error(\"Erreur cartes :\",err));},[user]);useEffect(()=>{const loadPayPalScript=()=>{return new Promise((resolve,reject)=>{if(document.getElementById(\"paypal-sdk\"))return resolve();const script=document.createElement(\"script\");script.src=\"https://www.paypal.com/sdk/js?client-id=Aa1Ocb6Gn5RgWkO5LbrJ-H&currency=EUR\";script.id=\"paypal-sdk\";script.onload=()=>resolve();script.onerror=err=>reject(err);document.body.appendChild(script);});};if(paymentMethod===\"paypal\"){loadPayPalScript().then(()=>{if(window.paypal){window.paypal.Buttons({createOrder:(data,actions)=>{return actions.order.create({purchase_units:[{amount:{value:getTotalPrice()}}]});},onApprove:(data,actions)=>{return actions.order.capture().then(details=>{alert(\"Paiement PayPal confirmÃ© par \"+details.payer.name.given_name);handlePaypalSuccess();// ðŸ‘ˆ ici on appelle la fonction aprÃ¨s succÃ¨s\n});}}).render(\"#paypal-button-container\");}}).catch(err=>console.error(\"Erreur de chargement PayPal :\",err));}},[paymentMethod,cart]);const handlePaypalSuccess=async()=>{try{// 1. Mettre Ã  jour le stock\nawait axios.post(\"http://localhost:5000/api/cart/updateStock\",{cart});// 2. CrÃ©er une commande\nawait axios.post(\"http://localhost:5000/api/orders/create\",{userId:user._id,cart,address,paymentMethod:\"paypal\",total:getTotalPrice()});// 3. Vider le panier cÃ´tÃ© backend\nawait axios.post(\"http://localhost:5000/api/cart/clear\",{userId:user._id});// 4. Vider le panier cÃ´tÃ© frontend\nsetCart({products:[]});localStorage.removeItem(\"cart\");// 5. Rediriger ou informer\nalert(\"âœ… Paiement PayPal rÃ©ussi et commande crÃ©Ã©e !\");navigate(\"/orders\");}catch(err){console.error(\"Erreur aprÃ¨s paiement PayPal :\",err);alert(\"âŒ Une erreur est survenue aprÃ¨s le paiement.\");}};const removeFromCart=async product=>{try{await axios.post(\"http://localhost:5000/api/cart/remove\",{userId:user._id,productId:product.productId._id||product.productId,color:product.color,size:product.size});const newCart=cart.products.filter(item=>!(item.productId._id===product.productId._id&&item.color===product.color&&item.size===product.size));setCart({products:newCart});localStorage.setItem(\"cart\",JSON.stringify(newCart));}catch(error){console.error(\"Erreur suppression :\",error);alert(\"Erreur lors de la suppression du produit.\");}};// ðŸ‘‡ Fonction pour calculer le total\nconst getTotalPrice=()=>{if(!Array.isArray(cart.products))return 0;return cart.products.reduce((total,item)=>{var _item$productId;const price=(item===null||item===void 0?void 0:(_item$productId=item.productId)===null||_item$productId===void 0?void 0:_item$productId.price)||0;const quantity=(item===null||item===void 0?void 0:item.quantity)||0;return total+price*quantity;},0).toFixed(2);};const handleLogout=()=>{localStorage.removeItem(\"user\");setUser(null);navigate(\"/login\");};const getDeliveryDate=()=>{const date=new Date();date.setDate(date.getDate()+2);return date.toLocaleDateString(\"fr-FR\",{weekday:\"long\",day:\"numeric\",month:\"long\"});};const handlePayment=async()=>{if(!address)return alert(\"SÃ©lectionnez une adresse.\");if(paymentMethod===\"paypal\"){window.location.href=\"https://www.paypal.me/marvelstore1010\";return;}console.log(\"ðŸŽ¯ DonnÃ©es envoyÃ©es Ã  Stripe :\",{cart,userEmail:user.email});try{const response=await axios.post(\"http://localhost:5000/api/stripe/create-checkout-session\",{cart,userEmail:user.email});window.location.href=response.data.url;}catch(err){console.error(\"Erreur de paiement :\",err);alert(\"Erreur lors du paiement.\");}};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"header\",{style:{backgroundColor:\"#222\",color:\"white\",padding:\"10px 1px\",position:\"fixed\",top:0,left:0,width:\"100%\",zIndex:10},children:[/*#__PURE__*/_jsx(\"nav\",{style:{display:\"flex\",justifyContent:\"center\",gap:\"20px\",padding:\"10px 0\"},children:[\"/\",\"/products\",\"/cart\",\"/orders\",\"/account\",\"/wallet\",\"/addresses\"].map((path,idx)=>/*#__PURE__*/_jsx(Link,{to:path,children:/*#__PURE__*/_jsx(Icon,{icon:\"mdi:\".concat([\"home\",\"shopping\",\"cart\",\"package-variant-closed\",\"account\",\"credit-card\",\"map-marker\"][idx]),width:\"32\",color:location.pathname===path?\"red\":\"white\"})},path))}),/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\",justifyContent:\"space-between\",padding:\"0 20px\",alignItems:\"center\"},children:[/*#__PURE__*/_jsx(\"h1\",{children:\"\\uD83D\\uDED2 Mon Panier\"}),/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\",alignItems:\"center\"},children:[/*#__PURE__*/_jsx(Icon,{icon:\"mdi:account-circle\",width:\"40\"}),user?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"span\",{style:{marginLeft:\"10px\"},children:user.name}),/*#__PURE__*/_jsx(\"button\",{onClick:handleLogout,style:{marginLeft:\"10px\",backgroundColor:\"red\",color:\"white\"},children:\"D\\xE9connexion\"})]}):/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigate(\"/login\"),style:{marginLeft:\"10px\",backgroundColor:\"blue\",color:\"white\"},children:\"Se connecter\"})]})]})]}),/*#__PURE__*/_jsx(\"main\",{style:{marginTop:\"120px\",padding:\"20px\",backgroundColor:\"#111\",minHeight:\"100vh\",color:\"white\"},children:cart.products.length===0?/*#__PURE__*/_jsx(\"h2\",{children:\"Votre panier est vide.\"}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{style:{display:\"flex\",flexWrap:\"wrap\",justifyContent:\"center\"},children:cart.products.map((product,i)=>{var _product$productId,_product$productId2,_product$productId3,_product$productId4;return/*#__PURE__*/_jsxs(\"div\",{style:{backgroundColor:\"#222\",margin:10,padding:10},children:[/*#__PURE__*/_jsx(\"img\",{src:\"http://localhost:5000\".concat((_product$productId=product.productId)===null||_product$productId===void 0?void 0:_product$productId.image),alt:(_product$productId2=product.productId)===null||_product$productId2===void 0?void 0:_product$productId2.name,style:{width:\"180px\",height:\"150px\"}}),/*#__PURE__*/_jsx(\"h3\",{children:(_product$productId3=product.productId)===null||_product$productId3===void 0?void 0:_product$productId3.name}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Prix : \",(_product$productId4=product.productId)===null||_product$productId4===void 0?void 0:_product$productId4.price,\"\\u20AC\"]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Couleur : \",product.color]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Taille : \",product.size]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Quantit\\xE9 : \",product.quantity]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>removeFromCart(product),style:{backgroundColor:\"red\",color:\"white\"},children:\"Supprimer\"})]},i);})}),/*#__PURE__*/_jsxs(\"div\",{style:{fontWeight:\"bold\",fontSize:\"18px\",marginTop:\"20px\"},children:[\"Total : \",getTotalPrice(),\" \\u20AC\"]}),/*#__PURE__*/_jsxs(\"div\",{style:{backgroundColor:\"#222\",padding:20,marginTop:30,borderRadius:10},children:[/*#__PURE__*/_jsx(\"h3\",{children:\"\\uD83D\\uDCB3 Paiement\"}),/*#__PURE__*/_jsx(\"label\",{children:\"Adresse enregistr\\xE9e :\"}),/*#__PURE__*/_jsxs(\"select\",{value:address,onChange:e=>setAddress(e.target.value),style:{width:\"60%\",marginBottom:20},children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"-- S\\xE9lectionnez une adresse --\"}),savedAddresses.map((addr,i)=>/*#__PURE__*/_jsxs(\"option\",{value:\"\".concat(addr.fullName,\", \").concat(addr.address,\", \").concat(addr.city),children:[addr.fullName,\", \",addr.address,\", \",addr.city]},i))]}),/*#__PURE__*/_jsx(\"label\",{children:\"Moyen de paiement :\"}),/*#__PURE__*/_jsxs(\"select\",{value:paymentMethod,onChange:e=>setPaymentMethod(e.target.value),style:{width:\"30%\",marginBottom:20},children:[/*#__PURE__*/_jsx(\"option\",{value:\"card\",children:\"Carte\"}),/*#__PURE__*/_jsx(\"option\",{value:\"paypal\",children:\"PayPal\"})]}),paymentMethod===\"card\"&&/*#__PURE__*/_jsxs(\"select\",{value:selectedCardId,onChange:e=>setSelectedCardId(e.target.value),style:{width:\"50%\",marginBottom:20},children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"-- S\\xE9lectionnez une carte --\"}),savedCards.map(card=>/*#__PURE__*/_jsxs(\"option\",{value:card._id,children:[card.holder,\" - **** \",card.number.slice(-4),\" - \",card.expiryMonth,\"/\",card.expiryYear]},card._id))]}),paymentMethod===\"paypal\"&&/*#__PURE__*/_jsx(\"div\",{id:\"paypal-button-container\",style:{marginTop:10}}),/*#__PURE__*/_jsxs(\"p\",{children:[\"\\uD83D\\uDCE6 Livraison pr\\xE9vue : \",getDeliveryDate()]}),/*#__PURE__*/_jsx(\"button\",{onClick:handlePayment,style:{backgroundColor:\"green\",color:\"white\"},children:\"Payer\"})]})]})})]});};export default CartPage;","map":{"version":3,"names":["React","useEffect","useState","Link","useNavigate","useLocation","Icon","axios","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","CartPage","cart","setCart","local","JSON","parse","localStorage","getItem","products","user","setUser","address","setAddress","savedAddresses","setSavedAddresses","paymentMethod","setPaymentMethod","selectedCardId","setSelectedCardId","savedCards","setSavedCards","paypalEmail","setPaypalEmail","navigate","location","loadPayPalScript","Promise","resolve","reject","document","getElementById","script","createElement","src","id","onload","onerror","err","body","appendChild","get","concat","_id","then","res","_res$data","data","setItem","stringify","catch","console","error","params","userId","window","paypal","Buttons","createOrder","actions","order","create","purchase_units","amount","value","getTotalPrice","onApprove","capture","details","alert","payer","name","given_name","handlePaypalSuccess","render","post","total","removeItem","removeFromCart","product","productId","color","size","newCart","filter","item","Array","isArray","reduce","_item$productId","price","quantity","toFixed","handleLogout","getDeliveryDate","date","Date","setDate","getDate","toLocaleDateString","weekday","day","month","handlePayment","href","log","userEmail","email","response","url","children","style","backgroundColor","padding","position","top","left","width","zIndex","display","justifyContent","gap","map","path","idx","to","icon","pathname","alignItems","marginLeft","onClick","marginTop","minHeight","length","flexWrap","i","_product$productId","_product$productId2","_product$productId3","_product$productId4","margin","image","alt","height","fontWeight","fontSize","borderRadius","onChange","e","target","marginBottom","addr","fullName","city","card","holder","number","slice","expiryMonth","expiryYear"],"sources":["C:/Users/nwotc/Desktop/marvelstore/marvelstore/frontend/frontend/src/pages/CartPage.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { Link, useNavigate, useLocation } from \"react-router-dom\";\r\nimport { Icon } from \"@iconify/react\";\r\nimport axios from \"axios\";\r\n\r\nconst CartPage = () => {\r\n  const [cart, setCart] = useState(() => {\r\n    const local = JSON.parse(localStorage.getItem(\"cart\"));\r\n    return local ? { products: local } : { products: [] };\r\n  });  \r\n  const [user, setUser] = useState(() => JSON.parse(localStorage.getItem(\"user\")) || null);\r\n  const [address, setAddress] = useState(\"\");\r\n  const [savedAddresses, setSavedAddresses] = useState([]);\r\n  const [paymentMethod, setPaymentMethod] = useState(\"card\");\r\n  const [selectedCardId, setSelectedCardId] = useState(\"\");\r\n  const [savedCards, setSavedCards] = useState([]);\r\n  const [paypalEmail, setPaypalEmail] = useState(\"\");\r\n\r\n  const navigate = useNavigate();\r\n  const location = useLocation();\r\n\r\n  const loadPayPalScript = () => {\r\n    return new Promise((resolve, reject) => {\r\n      if (document.getElementById(\"paypal-sdk\")) return resolve();\r\n  \r\n      const script = document.createElement(\"script\");\r\n      script.src = \"https://www.paypal.com/sdk/js?client-id=Aa1Ocb6Gn5RgWkO5LbrJ-H&currency=EUR\"; // âœ… Ton Client ID ici\r\n      script.id = \"paypal-sdk\";\r\n      script.onload = () => resolve();\r\n      script.onerror = (err) => reject(err);\r\n      document.body.appendChild(script);\r\n    });\r\n  };  \r\n\r\n  useEffect(() => {\r\n    if (!user) return;\r\n  \r\n    // Charger le panier\r\n    axios.get(`http://localhost:5000/api/cart/${user._id}`)\r\n      .then(res => {\r\n        const products = res.data?.products || [];\r\n        setCart({ products });\r\n        localStorage.setItem(\"cart\", JSON.stringify(products));\r\n      })\r\n      .catch(err => console.error(\"Erreur panier :\", err));\r\n  \r\n    // Charger les adresses\r\n    axios.get(`http://localhost:5000/api/addresses`, { params: { userId: user._id } })\r\n      .then(res => setSavedAddresses(res.data))\r\n      .catch(err => console.error(\"Erreur adresses :\", err));\r\n  \r\n    // Charger les cartes\r\n    axios.get(`http://localhost:5000/api/cards/${user._id}`)\r\n      .then(res => setSavedCards(res.data))\r\n      .catch(err => console.error(\"Erreur cartes :\", err));\r\n  }, [user]);\r\n  \r\n  useEffect(() => {\r\n    const loadPayPalScript = () => {\r\n      return new Promise((resolve, reject) => {\r\n        if (document.getElementById(\"paypal-sdk\")) return resolve();\r\n  \r\n        const script = document.createElement(\"script\");\r\n        script.src = \"https://www.paypal.com/sdk/js?client-id=Aa1Ocb6Gn5RgWkO5LbrJ-H&currency=EUR\";\r\n        script.id = \"paypal-sdk\";\r\n        script.onload = () => resolve();\r\n        script.onerror = (err) => reject(err);\r\n        document.body.appendChild(script);\r\n      });\r\n    };\r\n  \r\n    if (paymentMethod === \"paypal\") {\r\n      loadPayPalScript()\r\n        .then(() => {\r\n          if (window.paypal) {\r\n            window.paypal.Buttons({\r\n              createOrder: (data, actions) => {\r\n                return actions.order.create({\r\n                  purchase_units: [{\r\n                    amount: {\r\n                      value: getTotalPrice()\r\n                    }\r\n                  }]\r\n                });\r\n              },\r\n              onApprove: (data, actions) => {\r\n                return actions.order.capture().then((details) => {\r\n                  alert(\"Paiement PayPal confirmÃ© par \" + details.payer.name.given_name);\r\n                  handlePaypalSuccess(); // ðŸ‘ˆ ici on appelle la fonction aprÃ¨s succÃ¨s\r\n                });\r\n              }              \r\n            }).render(\"#paypal-button-container\");\r\n          }\r\n        })\r\n        .catch(err => console.error(\"Erreur de chargement PayPal :\", err));\r\n    }\r\n  }, [paymentMethod, cart]);\r\n  \r\n  const handlePaypalSuccess = async () => {\r\n    try {\r\n      // 1. Mettre Ã  jour le stock\r\n      await axios.post(\"http://localhost:5000/api/cart/updateStock\", { cart });\r\n  \r\n      // 2. CrÃ©er une commande\r\n      await axios.post(\"http://localhost:5000/api/orders/create\", {\r\n        userId: user._id,\r\n        cart,\r\n        address,\r\n        paymentMethod: \"paypal\",\r\n        total: getTotalPrice(),\r\n      });\r\n  \r\n      // 3. Vider le panier cÃ´tÃ© backend\r\n      await axios.post(\"http://localhost:5000/api/cart/clear\", { userId: user._id });\r\n  \r\n      // 4. Vider le panier cÃ´tÃ© frontend\r\n      setCart({ products: [] });\r\n      localStorage.removeItem(\"cart\");\r\n  \r\n      // 5. Rediriger ou informer\r\n      alert(\"âœ… Paiement PayPal rÃ©ussi et commande crÃ©Ã©e !\");\r\n      navigate(\"/orders\");\r\n    } catch (err) {\r\n      console.error(\"Erreur aprÃ¨s paiement PayPal :\", err);\r\n      alert(\"âŒ Une erreur est survenue aprÃ¨s le paiement.\");\r\n    }\r\n  };  \r\n\r\n  const removeFromCart = async (product) => {\r\n    try {\r\n      await axios.post(\"http://localhost:5000/api/cart/remove\", {\r\n        userId: user._id,\r\n        productId: product.productId._id || product.productId,\r\n        color: product.color,\r\n        size: product.size\r\n      });\r\n  \r\n      const newCart = cart.products.filter(\r\n        (item) =>\r\n          !(\r\n            item.productId._id === product.productId._id &&\r\n            item.color === product.color &&\r\n            item.size === product.size\r\n          )\r\n      );\r\n  \r\n      setCart({ products: newCart });\r\n      localStorage.setItem(\"cart\", JSON.stringify(newCart));\r\n    } catch (error) {\r\n      console.error(\"Erreur suppression :\", error);\r\n      alert(\"Erreur lors de la suppression du produit.\");\r\n    }\r\n  };  \r\n\r\n  // ðŸ‘‡ Fonction pour calculer le total\r\n  const getTotalPrice = () => {\r\n    if (!Array.isArray(cart.products)) return 0;\r\n  \r\n    return cart.products.reduce((total, item) => {\r\n      const price = item?.productId?.price || 0;\r\n      const quantity = item?.quantity || 0;\r\n      return total + price * quantity;\r\n    }, 0).toFixed(2);\r\n  };\r\n\r\n  const handleLogout = () => {\r\n    localStorage.removeItem(\"user\");\r\n    setUser(null);\r\n    navigate(\"/login\");\r\n  };\r\n\r\n  const getDeliveryDate = () => {\r\n    const date = new Date();\r\n    date.setDate(date.getDate() + 2);\r\n    return date.toLocaleDateString(\"fr-FR\", { weekday: \"long\", day: \"numeric\", month: \"long\" });\r\n  };\r\n\r\n  const handlePayment = async () => {\r\n    if (!address) return alert(\"SÃ©lectionnez une adresse.\");\r\n  \r\n    if (paymentMethod === \"paypal\") {\r\n      window.location.href = \"https://www.paypal.me/marvelstore1010\";\r\n      return;\r\n    }\r\n\r\n    console.log(\"ðŸŽ¯ DonnÃ©es envoyÃ©es Ã  Stripe :\", {\r\n      cart,\r\n      userEmail: user.email,\r\n    });\r\n  \r\n    try {\r\n      const response = await axios.post(\"http://localhost:5000/api/stripe/create-checkout-session\", {\r\n        cart,\r\n        userEmail: user.email,\r\n      });\r\n  \r\n      window.location.href = response.data.url;\r\n    } catch (err) {\r\n      console.error(\"Erreur de paiement :\", err);\r\n      alert(\"Erreur lors du paiement.\");\r\n    }\r\n  };\r\n  \r\n  return (\r\n    <div>\r\n      {/* Navigation */}\r\n      <header style={{ backgroundColor: \"#222\", color: \"white\", padding: \"10px 1px\", position: \"fixed\", top: 0, left: 0, width: \"100%\", zIndex: 10 }}>\r\n        <nav style={{ display: \"flex\", justifyContent: \"center\", gap: \"20px\", padding: \"10px 0\" }}>\r\n          {[\"/\", \"/products\", \"/cart\", \"/orders\", \"/account\", \"/wallet\", \"/addresses\"].map((path, idx) => (\r\n            <Link key={path} to={path}>\r\n              <Icon icon={`mdi:${[\"home\", \"shopping\", \"cart\", \"package-variant-closed\", \"account\", \"credit-card\", \"map-marker\"][idx]}`} width=\"32\" color={location.pathname === path ? \"red\" : \"white\"} />\r\n            </Link>\r\n          ))}\r\n        </nav>\r\n        <div style={{ display: \"flex\", justifyContent: \"space-between\", padding: \"0 20px\", alignItems: \"center\" }}>\r\n          <h1>ðŸ›’ Mon Panier</h1>\r\n          <div style={{ display: \"flex\", alignItems: \"center\" }}>\r\n            <Icon icon=\"mdi:account-circle\" width=\"40\" />\r\n            {user ? (\r\n              <>\r\n                <span style={{ marginLeft: \"10px\" }}>{user.name}</span>\r\n                <button onClick={handleLogout} style={{ marginLeft: \"10px\", backgroundColor: \"red\", color: \"white\" }}>DÃ©connexion</button>\r\n              </>\r\n            ) : (\r\n              <button onClick={() => navigate(\"/login\")} style={{ marginLeft: \"10px\", backgroundColor: \"blue\", color: \"white\" }}>Se connecter</button>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </header>\r\n\r\n      <main style={{ marginTop: \"120px\", padding: \"20px\", backgroundColor: \"#111\", minHeight: \"100vh\", color: \"white\" }}>\r\n        {cart.products.length === 0 ? (\r\n          <h2>Votre panier est vide.</h2>\r\n        ) : (\r\n          <>\r\n            <div style={{ display: \"flex\", flexWrap: \"wrap\", justifyContent: \"center\" }}>\r\n              {cart.products.map((product, i) => (\r\n                <div key={i} style={{ backgroundColor: \"#222\", margin: 10, padding: 10 }}>\r\n                  <img src={`http://localhost:5000${product.productId?.image}`} alt={product.productId?.name} style={{ width: \"180px\", height: \"150px\" }} />\r\n                  <h3>{product.productId?.name}</h3>\r\n                  <p>Prix : {product.productId?.price}â‚¬</p>\r\n                  <p>Couleur : {product.color}</p>\r\n                  <p>Taille : {product.size}</p>\r\n                  <p>QuantitÃ© : {product.quantity}</p>\r\n                  <button onClick={() => removeFromCart(product)} style={{ backgroundColor: \"red\", color: \"white\" }}>Supprimer</button>\r\n                </div>\r\n              ))}\r\n            </div>\r\n            \r\n            <div style={{ fontWeight: \"bold\", fontSize: \"18px\", marginTop: \"20px\" }}>\r\n              Total : {getTotalPrice()} â‚¬\r\n            </div>\r\n\r\n\r\n            {/* Paiement */}\r\n            <div style={{ backgroundColor: \"#222\", padding: 20, marginTop: 30, borderRadius: 10 }}>\r\n              <h3>ðŸ’³ Paiement</h3>\r\n\r\n              {/* Adresse */}\r\n              <label>Adresse enregistrÃ©e :</label>\r\n              <select value={address} onChange={(e) => setAddress(e.target.value)} style={{ width: \"60%\", marginBottom: 20 }}>\r\n                <option value=\"\">-- SÃ©lectionnez une adresse --</option>\r\n                {savedAddresses.map((addr, i) => (\r\n                  <option key={i} value={`${addr.fullName}, ${addr.address}, ${addr.city}`}>\r\n                    {addr.fullName}, {addr.address}, {addr.city}\r\n                  </option>\r\n                ))}\r\n              </select>\r\n\r\n              {/* Paiement */}\r\n              <label>Moyen de paiement :</label>\r\n              <select value={paymentMethod} onChange={(e) => setPaymentMethod(e.target.value)} style={{ width: \"30%\", marginBottom: 20 }}>\r\n                <option value=\"card\">Carte</option>\r\n                <option value=\"paypal\">PayPal</option>\r\n              </select>\r\n\r\n              {paymentMethod === \"card\" && (\r\n                <select value={selectedCardId} onChange={(e) => setSelectedCardId(e.target.value)} style={{ width: \"50%\", marginBottom: 20 }}>\r\n                  <option value=\"\">-- SÃ©lectionnez une carte --</option>\r\n                  {savedCards.map((card) => (\r\n                    <option key={card._id} value={card._id}>\r\n                      {card.holder} - **** {card.number.slice(-4)} - {card.expiryMonth}/{card.expiryYear}\r\n                    </option>\r\n                  ))}\r\n                </select>\r\n              )}\r\n\r\n              {paymentMethod === \"paypal\" && (\r\n                <div id=\"paypal-button-container\" style={{ marginTop: 10 }}></div>\r\n              )}\r\n\r\n              <p>ðŸ“¦ Livraison prÃ©vue : {getDeliveryDate()}</p>\r\n              <button onClick={handlePayment} style={{ backgroundColor: \"green\", color: \"white\" }}>Payer</button>\r\n            </div>\r\n          </>\r\n        )}\r\n      </main>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CartPage;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}